apply plugin: 'java'

sourceCompatibility = 17
version = '1.0'

repositories {
    mavenCentral()
    maven {
        url "https://repo1.maven.org/maven2/"
    }
}

jar {
    archiveFileName = "ResourcePackUpdater.jar"
    destinationDirectory = file "$rootDir/artifacts"
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    manifest.from("src/main/java/META-INF/MANIFEST.MF")
    from {
        configurations.compileClasspath.filter {
            !it.name.contains("netty") \
            && !it.name.contains("authlib") \
            && !it.name.contains("commons") \
            && !it.name.contains("log4j")
        }.collect {
            it.isDirectory()? it : zipTree(it)
        }
    }
}

dependencies {
}